/**
 * 3D - demo
 */

//数据

var data = {
	'bt':[
		[-0.005240218,
			0.011187937,
			0.00546269,
			-0.000300678,
			-0.011058994,
			0.005085072,
			-0.025796158,
			-0.000968175,
			0.00197629
		],[
			0.003678706,
			0.00725243,
			-0.005633609,
			0.007910516,
			-0.006625236,
			0.002711926,
			0.003033885,
			0.009718861,
			0.001953193,
		],
		[
			0.018933515,
			-0.006810224,
			0.006367064,
			-0.01356683,
			0.000159377,
			0.005528999,
			-0.000787513,
			0.003817783,
			0.004858353
		],
		[
			0.01337462,
			-0.003982844,
			0.006427353,
			1.24556E-05,
			0.007910462,
			-0.01054806,
			0.003799397,
			0.00131152,
			-0.000810891
		],
		[
			0.006118991,
			0.002331265,
			0.018328788,
			0.000996494,
			0.001168189,
			0.010437775,
			0.003144556,
			0.014579939,
			0.00102297
		],
		[
			0.005404345,
			0.000439484,
			0.016534647,
			-0.012523935,
			0.013311776,
			0.003753959,
			0.001348825,
			0.003200126,
			0.005778585
		],
		[
			-0.018235123,
			-0.007043711,
			0.021519433,
			-0.005597439,
			0.008454963,
			-0.015980744,
			0.009252023,
			-0.002246132,
			-0.004888778
		],
		[
			-0.013013114,
			0.005325684,
			0.020882527,
			0.002926301,
			-0.004367622,
			0.000407502,
			0.002303214,
			-0.002899217,
			0.001293237
		],
		[
			-0.00104561,
			0.006013657,
			0.001505603,
			0.008842057,
			-0.000286942,
			0.003025417,
			-0.005457971,
			-0.003819977,
			0.001628797
		],
		[
			0.000974544,
			0.003033286,
			-0.007695566,
			0.004828437,
			-0.002839035,
			0.019662268,
			0.015938441,
			-0.009903799,
			-0.002644757
		]
	],

	'bj':[
		[
			0.009334768,
			-0.014392802,
			0.004150711,
			0.000602736,
			0.002003022,
			-0.006914828,
			0.012882881,
			0.011299427,
			0.000993489
		],
		[
			0.009517259,
			-0.005555719,
			-0.002809371,
			0.003088197,
			0.000333381,
			0.009979243,
			-0.002014203,
			-0.00561543,
			0.004771677
		],
		[
			0.009319055,
			-0.001539948,
			-0.009784773,
			0.003814548,
			0.002886496,
			0.002607174,
			0.00138214,
			0.009133324,
			0.002083869
		],
		[
			-0.003909408,
			0.004729076,
			-0.00144333,
			-0.014370362,
			-0.013563961,
			0.004216404,
			0.003532214,
			0.01592139,
			-0.000701026
		],
		[
			0.001239701,
			0.002225879,
			-0.025311399,
			0.003004527,
			0.002028371,
			0.00753836,
			-0.001318623,
			0.033354734,
			-0.003322284
		],
		[
			-0.003604889,
			-0.004704873,
			-0.02754436,
			-0.002270226,
			-0.010046425,
			-0.003389613,
			-0.001723173,
			-0.000152272,
			-0.005691014
		],
		[
			0.013660148,
			0.005464288,
			0.008643685,
			-0.012107148,
			-0.001308886,
			0.008308954,
			0.00624542,
			-0.002052976,
			0.002031591
		],
		[
			0.012671225,
			0.006394956,
			-0.016549181,
			-0.008806815,
			0.000739406,
			-0.005805431,
			-0.009250608,
			-0.007485529,
			0.001297018
		],
		[
			0.006718438,
			0.002023329,
			0.008145483,
			-0.00579684,
			-0.000360755,
			-0.005064489,
			0.00219126,
			0.010574198,
			0.000634562
		],
		[
			-0.001095088,
			5.59903E-05,
			0.013675902,
			-0.011674644,
			-0.003076746,
			0.013468961,
			-0.016228199,
			0.007901761,
			0.003287982
		]
	],

	'tj':[
		[
			-0.00409455,
			0.003204865,
			-0.009613401,
			-0.000302058,
			0.009055972,
			0.001829756,
			0.012913276,
			-0.010331252,
			-0.00296978
		],
		[
			0.009517259,
			-0.005555719,
			-0.002809371,
			0.003088197,
			0.000333381,
			0.009979243,
			-0.002014203,
			-0.00561543,
			0.004771677
		],
		[
			0.009319055,
			-0.001539948,
			-0.009784773,
			0.003814548,
			0.002886496,
			0.002607174,
			0.00138214,
			0.009133324,
			0.002083869
		],
		[
			-0.003909408,
			0.004729076,
			-0.00144333,
			-0.014370362,
			-0.013563961,
			0.004216404,
			0.003532214,
			0.01592139,
			-0.000701026
		],
		[
			-0.007358692,
			-0.004557145,
			0.006982612,
			-0.004001021,
			-0.003196559,
			-0.017976136,
			-0.001825933,
			-0.047934673,
			0.002299314
		],
		[
			-0.001799456,
			0.004265389,
			0.011009713,
			0.01479416,
			-0.003265351,
			-0.000364346,
			0.000374347,
			-0.003047854,
			-8.75715E-05
		],
		[
			0.004574975,
			0.001579423,
			-0.030163118,
			0.017704586,
			-0.007146078,
			0.00767179,
			-0.015497443,
			0.004299108,
			0.002857187
		],
		[
			0.000341889,
			-0.01172064,
			-0.004333346,
			0.005880513,
			0.003628216,
			0.005397929,
			0.006947394,
			0.010384746,
			-0.002590256
		],
		[
			-0.005672828,
			-0.008036986,
			-0.009651086,
			-0.003045217,
			0.000647697,
			0.002039072,
			0.003266711,
			-0.00675422,
			-0.002263359
		],
		[
			0.000120544,
			-0.003089276,
			-0.005980336,
			0.006846206,
			0.005915781,
			-0.033131229,
			0.000289758,
			0.002002039,
			-0.000643225
		]
	]
}

var Xdata = ['2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016']
var Ydata = [	'食品类', 
							'烟酒及用品类', 
							'衣着类', 
							'家庭设备用品及服务类', 
							'医疗保健和个人用品类', 
							'交通和通信类', 
							'娱乐教育文化类', 
							'居住类', 
							'总体居民消费价格指数'
						]

 // 基于准备好的dom，初始化echarts实例

var chart = {
	init: function(min, max) {
		this.drawChart(min - 0, max - 0)
	},

	drawChart: function (min, max) {
		var myChart = echarts.init(document.getElementById('chart'));

		// 指定图表的配置项和数据
		var option = {
		    tooltip: {
		    	formatter: params => {
		    		// console.log(params)
		    		return '<div>'+ params.seriesName +'<br/>'+
										'x: ' + Xdata[params.data[0]] + '<br/>' +
										'y: ' + Ydata[params.data[1]] + '<br/>' +
										'z: ' + params.data[2] + '<br/>' +
		    		'</div>'
		    	}
		    },
		    backgroundColor: '#fff',
		    legend: {
		        data:['京-津','京-冀','津-冀']
		    },
		    xAxis3D: {
		        type: 'category',
		        axisLabel: {
							interval: 0
		        },
		        data:Xdata
		    },
		    zAxis3D: {
		        type: 'value'
		    },
		    yAxis3D: {
		        type: 'category',
		        axisLabel: {
							interval: 0
		        },
		        data:Ydata
		    },
		    grid3D: {
		        viewControl: {
		            // projection: 'orthographic'
		        },
		        boxHeight: 100
		    },
		    series: [{
		        type: 'surface',
		        name: '京-津',
		        wireframe: {
		            show: false
		        },
		        shading: 'color',
		        itemStyle: {
							color: '#98de91',
							opacity: 0.7
		        },
		        equation: {
		            x: {
		                step: 1,
		                min:min,
		                max: max
		            },
		            y: {
		                step: 1,
		                min:0,
		                max: 8
		            },
		            z: function (x, y) {
		              var value = data['bt'][x][y]
		              
		              return value
		            }
		        }
		    },{
		        type: 'surface',
		        name: '京-冀',
		        wireframe: {
		            show: false
		        },
		        shading: 'color',
		        itemStyle: {
							color: '#30abdc',
							opacity: 0.7
		        },
		        equation: {
		            x: {
		                step: 1,
		                min:min,
		                max: max
		            },
		            y: {
		                step: 1,
		                min:0,
		                max: 8
		            },
		            z: function (x, y) {
		              var value = data['bj'][x][y]
		         
		              return value
		            }
		        }
		    },{
		        type: 'surface',
		        name: '津-冀',
		        wireframe: {
		            show: false
		        },
		        shading: 'color',
		        itemStyle: {
							color: '#b976c9',
							opacity: 0.7
		        },
		        equation: {
		            x: {
		                step: 1,
		                min:min,
		                max: max
		            },
		            y: {
		                step: 1,
		                min:0,
		                max: 8
		            },
		            z: function (x, y) {
		              var value = data['tj'][x][y]
		             
		              return value
		            }
		        }
		    }]
		}

		// 使用刚指定的配置项和数据显示图表。
		myChart.setOption(option);
	}
}
