<!DOCTYPE html>
<html>
<head>
	<title>echarts - 3D</title>
	<meta charset="utf-8"/>
	<script type="text/javascript" src='./static/echarts.min.js'></script>
	<script type="text/javascript" src='./static/echarts-gl.js'></script>
	<style type="text/css">
		#chart {
			margin: 0 auto;
		}

		select {
			padding-right: 12px;
		}

	</style>
</head>
<body>
	<h3>京津冀近年消费指数（2007 - 2016）</h3>
	<div>
		<b>显示年份：</b>
		<select id='min'>
			<option value='0' selected="selected" >2007</option>
			<option value='1'>2008</option>
			<option value='2'>2009</option>
			<option value='3'>2010</option>
			<option value='4'>2011</option>
			<option value='5'>2012</option>
			<option value='6'>2013</option>
			<option value='7'>2014</option>
			<option value='8'>2015</option>
			<option value='9'>2016</option>
		</select> <span>至</span> 
		<select id='max'>
			<option value='0'>2007</option>
			<option value='1'>2008</option>
			<option value='2'>2009</option>
			<option value='3'>2010</option>
			<option value='4'>2011</option>
			<option value='5'>2012</option>
			<option value='6'>2013</option>
			<option value='7'>2014</option>
			<option value='8'>2015</option>
			<option value='9' selected="selected">2016</option>
		</select>
	</div>
	<div id='chart' style="width: 600px;height:500px;"></div>
</body>
<script type="text/javascript" src='./demo.js'></script>
<script type="text/javascript">
	window.onload = function() {
		
		var min = 0;
		var max = 9;
		var sel1 = document.getElementById('min');
		var sel2 = document.getElementById('max');

		chart.init(0, 9);
		
		sel1.addEventListener('change', function(e) {
			min = e.target.value - 0;

			if( (min - 0) < (max-0) ) {
				chart.init(min, max);
				sel1.value = min;
			}
			else {
				alert('不能超过已设置的最大' + max)
				min = 0;
				sel1.value = 0;
				chart.init(min, max);
			}
		}, false)

		sel2.addEventListener('change', function(e) {
			max = e.target.value;
			
			if((min - 0) < (max-0)) {
				chart.init(min, max);
				sel2.value = max;
			}
			else {
				alert('不能小于已设置的最小' + max)
				max = 9;
				sel2.value = 9;
				chart.init(min, max);
			}
		}, false)
	}
</script>
</html>