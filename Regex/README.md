# Regex 正则表达式

> 程序员必备基础

- [MDN Regex](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)

- [正则表达式学习总结](https://segmentfault.com/a/1190000008766125)
- [深入浅出的javascript的正则表达式](http://web.jobbole.com/84450/)
- [正则学习](http://mp.weixin.qq.com/s/dVci7XH-xyd9FOdmVoJBDQ)

## 创建

- 字面值形式: `rtrim = /ab+c/g`
- new形式创建: `var replaceRegexp = RegExp("ab+c", 'g');`

这两种创建方式的区别是，如果你的正则表达式是可以确定的，那么使用字面值形式性能会更好，但是如果你的正则是动态创建的，那么只能选择构造函数的形式了。而在具体的使用上，二者是没有差别的。

## 规则

字面值形式的，记得表达式前后加上/符号。

- \: 转义字符，普通字符前面加上\可以代表特殊意义的字符。特殊意义的字符，也可以将其转换为普通字符。 当使用new RegExp("pattern")方法的时候不要
- 忘记将\它自己进行转义，因为\在字符串里面也是一个转义字符。
- ^: 匹配输入的开始。匹配行首的字符。
- *: 匹配前一个字符0次或者是多次。
- +: 匹配前面一个字符1次或者多次，和{1,}有相同的效果。
- ?: 匹配前面一个字符0次或者1次，和{0,1}有相同的效果。
- .: （小数点）匹配任何除了新一行开头字符的任何单个字符。
- (x): 匹配‘x’并且记住匹配项。这个被叫做捕获括号。可以通过数组得到匹配的对象。
- (?:x): 匹配'x'但是不记住匹配项。这种被叫做非捕获括号。
- x(?=y): 匹配'x'仅仅当'x'后面跟着'y'.这种叫做正向肯定查找。
- x(?!y): 匹配'x'仅仅当'x'后面不跟着'y',这个叫做正向否定查找。
- x|y: 匹配‘x’或者‘y’。
- {n}: n是一个正整数，匹配了前面一个字符刚好发生了n次。
- {n,m}: n 和 m 都是正整数。匹配前面的字符至少n次，最多m次。如果 n 或者 m 的值是0， 这个值被忽略。
- [xyz]: 一个字符集合。匹配方括号的中任意字符。你可以使用破折号（-）来指定一个字符范围。对于点（.）和星号（*）这样的特殊符号在一个字符集中没有特殊的意义。他们不必进行转意，不过转意也是起作用的。
- [^xyz]: 一个反向字符集。也就是说， 它匹配任何没有包含在方括号中的字符。你可以使用破折号（-）来指定一个字符范围。任何普通字符在这里都是起作用的。
- [\b]: 匹配一个退格(U+0008)。（不要和\b混淆了。）
- \b: 匹配一个词的边界。一个词的边界就是一个词不被另外一个词跟随的位置或者不是另一个词汇字符前边的位置。注意，一个匹配的词的边界并不包含在匹配的内容中。换句话说，一个匹配的词的边界的内容的长度是0。（不要和[\b]混淆了）
- \B: 匹配一个非单词边界。他匹配一个前后字符都是相同类型的位置：都是单词或者都不是单词。一个字符串的开始和结尾都被认为是非单词。
- \cX: 当X是处于A到Z之间的字符的时候，匹配字符串中的一个控制符。
- \d: 匹配一个数字。等价于[0-9]。
- \D: 匹配一个非数字字符。
- \f: 匹配一个换页符 (U+000C)。
- \n: 匹配一个换行符 (U+000A)。
- \r: 匹配一个回车符 (U+000D)。
- \s: 匹配一个空白字符，包括空格、制表符、换页符和换行符。
- \S: 匹配一个非空白字符。
- \t: 匹配一个水平制表符 (U+0009)。
- \v: 匹配一个垂直制表符 (U+000B)。
- \w: 匹配一个单字字符（字母、数字或者下划线）。等价于[A-Za-z0-9_]。
- \W: 匹配一个非单字字符。等价于A-Za-z0-9_。
- \n: 当 n 是一个正整数，一个返回引用到最后一个与有n插入的正值表达式(counting left parentheses)匹配的副字符串。
- \0: 匹配 NULL (U+0000) 字符， 不要在这后面跟其它小数，因为 \0 是一个八进制转义序列。
- \xhh: 匹配带有两位小数代码（hh）的字符。
- \uhhhh: 匹配带有四位小数代码（hh）的字符。

### 括号

如果需要记住匹配项，需要使用括号，这样才能通过数组查找到。

`/Chapter (\d+)\.\d*/`这部分中的`(\d+)`部分是会被记忆的，是可以作为一个字符串被使用。

## 方法

- `exec`， 传入一个字符串，默认返回一个数组，包含匹配结果，以及匹配的一些信息。如果是带记忆信息的，数组的长度会变化。没有匹配的时候，返回null.
- `test`，传入一个字符串，判断匹配，默认返回true或者false
- `match`
- `replace`
- `search`
- `split`